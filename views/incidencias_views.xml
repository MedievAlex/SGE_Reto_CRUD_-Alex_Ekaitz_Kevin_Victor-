<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <!-- FORM -->
    <record id="view_incidencias_form" model="ir.ui.view">
        <field name="name">incidencia.form</field>
        <field name="model">aplicacion_incidencias.incidencia</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <div name="titulo_incidencia">
                       <h1>
                           <field name="titulo" placeholder="Ej.: Problema en la aplicaciÃ³n" required="1"/>
                       </h1>
                    </div>
                    <group name="informacion_incidencia" colspan="4">
                       <group col="2">
                           <field name="fecha_creacion"/>
                       </group>
                       <group col="2">
                           <field name="estado_actual" widget="boolean_toggle"/>
                       </group>
                       <group colspan="4">
                           <field name="descripcion"/>
                       </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- TREE -->
    <record id="view_incidencias_tree" model="ir.ui.view">
        <field name="name">incidencia.tree</field>
        <field name="model">aplicacion_incidencias.incidencia</field>
        <field name="arch" type="xml">
            <tree>
                <field name="titulo"/>
                <field name="descripcion"/>
                <field name="fecha_creacion"/>
                <field name="estado_actual"/>
            </tree>
        </field>
    </record>

    <!-- KANBAN -->
    <record id="view_incidencias_kanban" model="ir.ui.view">
        <field name="name">incidencia.kanban</field>
        <field name="model">aplicacion_incidencias.incidencia</field>
        <field name="arch" type="xml">
            <kanban>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click">
                            <div name="informacion_incidencia" class="oe_kanban_details" style="word-wrap: break-word;">
                                <div>
                                    <strong><field name="titulo"/></strong>
                                </div>
                                <div>
                                    <field name="descripcion"/>
                                </div>
                                <div style="display: flex; justify-content: space-between;">
                                    <span width="50%">
                                        Fech a: <field name="fecha_creacion"/>
                                    </span>
                                    <span width="50%">
                                        <field name="estado_actual" attrs="{'invisible': True}"/>

                                        <div t-if="record.estado_actual.raw_value" style="color: green;">
                                          <i class="fa fa-check-circle" style="font-size: 12px;" title="Completado"/>
                                        </div>
                                        <div t-else="" style="color: red;">
                                          <i class="fa fa-circle-o" style="font-size: 12px;" title="En Progreso"/>
                                        </div>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- SEARCH -->
</odoo>

<!--

<div t-if="estado_actual == True" style="color: green;">
  <i class="fa fa-check-circle" style="font-size: 12px;" title="Completado"/>
</div>
<div t-else="" style="color: red;">
  <i class="fa fa-circle-o" style="font-size: 12px;" title="En Progreso"/>
</div>

<span attrs="{'invisible': [('estado_actual', '=', False)]}" style="color:Green;">
    <i class="fa fa-check-circle" style="font-size: 12px;" title="Completado"/>
</span>

<span attrs="{'invisible': [('estado_actual', '=', True)]}" style="color:Red;">
    <i class="fa fa-circle-o" style="font-size: 12px;" title="En Progreso"/>
</span>

-->